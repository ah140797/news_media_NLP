<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Sentiment Vizualisations | Taliban Project</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Sentiment Vizualisations | Taliban Project" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Sentiment Vizualisations | Taliban Project" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Anders Havbro Hjulmand" />


<meta name="date" content="2021-12-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sentiment-analysis.html"/>
<link rel="next" href="overview-3.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.17/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Taliban Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure"><i class="fa fa-check"></i>Structure</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-read-the-notebook"><i class="fa fa-check"></i>How to read the notebook</a></li>
</ul></li>
<li class="part"><span><b>I New York Times</b></span></li>
<li class="chapter" data-level="1" data-path="scraping-news-articles-with-new-york-times-api.html"><a href="scraping-news-articles-with-new-york-times-api.html"><i class="fa fa-check"></i><b>1</b> Scraping News Articles with New York Times API</a></li>
<li class="chapter" data-level="2" data-path="cleaning-the-data.html"><a href="cleaning-the-data.html"><i class="fa fa-check"></i><b>2</b> Cleaning The Data</a></li>
<li class="chapter" data-level="3" data-path="scrape-bread-text-of-articles.html"><a href="scrape-bread-text-of-articles.html"><i class="fa fa-check"></i><b>3</b> Scrape bread text of articles</a>
<ul>
<li class="chapter" data-level="3.1" data-path="scrape-bread-text-of-articles.html"><a href="scrape-bread-text-of-articles.html#scraping-in-python"><i class="fa fa-check"></i><b>3.1</b> Scraping in Python</a></li>
<li class="chapter" data-level="3.2" data-path="scrape-bread-text-of-articles.html"><a href="scrape-bread-text-of-articles.html#inspecting-the-bread-text"><i class="fa fa-check"></i><b>3.2</b> Inspecting the bread text</a></li>
</ul></li>
<li class="part"><span><b>II The Guardian</b></span></li>
<li class="chapter" data-level="4" data-path="scraping-articles-form-the-guardian.html"><a href="scraping-articles-form-the-guardian.html"><i class="fa fa-check"></i><b>4</b> Scraping articles form the Guardian</a></li>
<li class="chapter" data-level="5" data-path="cleaning-the-data-1.html"><a href="cleaning-the-data-1.html"><i class="fa fa-check"></i><b>5</b> Cleaning the Data</a></li>
<li class="chapter" data-level="6" data-path="scrape-bread-text-of-articles-1.html"><a href="scrape-bread-text-of-articles-1.html"><i class="fa fa-check"></i><b>6</b> Scrape bread text of articles</a>
<ul>
<li class="chapter" data-level="6.1" data-path="scrape-bread-text-of-articles-1.html"><a href="scrape-bread-text-of-articles-1.html#scraping-in-python-1"><i class="fa fa-check"></i><b>6.1</b> Scraping in Python</a></li>
<li class="chapter" data-level="6.2" data-path="scrape-bread-text-of-articles-1.html"><a href="scrape-bread-text-of-articles-1.html#inspecting-the-bread-text-1"><i class="fa fa-check"></i><b>6.2</b> Inspecting the bread text</a></li>
</ul></li>
<li class="part"><span><b>III Preprocess breadtext</b></span></li>
<li class="chapter" data-level="7" data-path="preprocess-breadtext-for-both-datasets.html"><a href="preprocess-breadtext-for-both-datasets.html"><i class="fa fa-check"></i><b>7</b> Preprocess Breadtext for both Datasets</a></li>
<li class="part"><span><b>IV Named Entity recognition (NER)</b></span></li>
<li class="chapter" data-level="" data-path="overview-1.html"><a href="overview-1.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="overview-1.html"><a href="overview-1.html#structure-1"><i class="fa fa-check"></i>Structure</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="extracting-ners.html"><a href="extracting-ners.html"><i class="fa fa-check"></i><b>8</b> Extracting NER’s</a></li>
<li class="chapter" data-level="9" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html"><i class="fa fa-check"></i><b>9</b> Maps vizualisations</a>
<ul>
<li class="chapter" data-level="9.1" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#preparing-the-data"><i class="fa fa-check"></i><b>9.1</b> Preparing the data</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#renaming-countries"><i class="fa fa-check"></i><b>9.1.1</b> Renaming Countries</a></li>
<li class="chapter" data-level="9.1.2" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#every-country-gets-a-row-for-every-date"><i class="fa fa-check"></i><b>9.1.2</b> Every country gets a row for every date</a></li>
<li class="chapter" data-level="9.1.3" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#making-a-unique-dataset-for-plotly-and-shiny-respectively"><i class="fa fa-check"></i><b>9.1.3</b> Making a unique dataset for Plotly and Shiny respectively</a></li>
<li class="chapter" data-level="9.1.4" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#making-a-penalized-count"><i class="fa fa-check"></i><b>9.1.4</b> Making a penalized count</a></li>
<li class="chapter" data-level="9.1.5" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#binsize"><i class="fa fa-check"></i><b>9.1.5</b> Setting up the binsize</a></li>
<li class="chapter" data-level="9.1.6" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#fixing-the-legend-scales-to-absolute-values."><i class="fa fa-check"></i><b>9.1.6</b> Fixing the legend scales to absolute values.</a></li>
<li class="chapter" data-level="9.1.7" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#making-a-dataframe-with-contrasts"><i class="fa fa-check"></i><b>9.1.7</b> Making a dataframe with contrasts</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#plotly-maps"><i class="fa fa-check"></i><b>9.2</b> Plotly Maps</a></li>
<li class="chapter" data-level="9.3" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#shiny-app"><i class="fa fa-check"></i><b>9.3</b> Shiny App</a></li>
<li class="chapter" data-level="9.4" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#popcircle"><i class="fa fa-check"></i><b>9.4</b> Popcircle</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#new-york-times"><i class="fa fa-check"></i><b>9.4.1</b> New York Times</a></li>
<li class="chapter" data-level="9.4.2" data-path="maps-vizualisations.html"><a href="maps-vizualisations.html#the-guardian"><i class="fa fa-check"></i><b>9.4.2</b> The Guardian</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html"><i class="fa fa-check"></i><b>10</b> Persons Vizualisation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#standardize-to-hits-pr.-article-and-grouping-by-month"><i class="fa fa-check"></i><b>10.1</b> Standardize to hits pr. article and grouping by month</a></li>
<li class="chapter" data-level="10.2" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#color-palettes"><i class="fa fa-check"></i><b>10.2</b> Color Palettes</a></li>
<li class="chapter" data-level="10.3" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#united-states-presidents"><i class="fa fa-check"></i><b>10.3</b> United States Presidents</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#summary-plot"><i class="fa fa-check"></i><b>10.3.1</b> Summary plot</a></li>
<li class="chapter" data-level="10.3.2" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#george-w.-bush"><i class="fa fa-check"></i><b>10.3.2</b> George W. Bush</a></li>
<li class="chapter" data-level="10.3.3" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#barack-obama"><i class="fa fa-check"></i><b>10.3.3</b> Barack Obama</a></li>
<li class="chapter" data-level="10.3.4" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#donald-trump"><i class="fa fa-check"></i><b>10.3.4</b> Donald Trump</a></li>
<li class="chapter" data-level="10.3.5" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#combined-plots"><i class="fa fa-check"></i><b>10.3.5</b> Combined Plots</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#british-prime-ministers"><i class="fa fa-check"></i><b>10.4</b> British Prime Ministers</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#summary-plot-1"><i class="fa fa-check"></i><b>10.4.1</b> Summary plot</a></li>
<li class="chapter" data-level="10.4.2" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#tony-blair"><i class="fa fa-check"></i><b>10.4.2</b> Tony Blair</a></li>
<li class="chapter" data-level="10.4.3" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#david-cameron"><i class="fa fa-check"></i><b>10.4.3</b> David Cameron</a></li>
<li class="chapter" data-level="10.4.4" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#boris-johnson"><i class="fa fa-check"></i><b>10.4.4</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#afghanistan-presidents"><i class="fa fa-check"></i><b>10.5</b> Afghanistan Presidents</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#summary-plot-2"><i class="fa fa-check"></i><b>10.5.1</b> Summary plot</a></li>
<li class="chapter" data-level="10.5.2" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#hamid-karzai"><i class="fa fa-check"></i><b>10.5.2</b> Hamid Karzai</a></li>
<li class="chapter" data-level="10.5.3" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#ashraf-ghani"><i class="fa fa-check"></i><b>10.5.3</b> Ashraf Ghani</a></li>
<li class="chapter" data-level="10.5.4" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#combined-plots-1"><i class="fa fa-check"></i><b>10.5.4</b> Combined Plots</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#other-persons"><i class="fa fa-check"></i><b>10.6</b> Other Persons</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#summary-plot-3"><i class="fa fa-check"></i><b>10.6.1</b> Summary plot</a></li>
<li class="chapter" data-level="10.6.2" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#osama-bin-laden"><i class="fa fa-check"></i><b>10.6.2</b> Osama bin Laden</a></li>
<li class="chapter" data-level="10.6.3" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#saddam-hussein"><i class="fa fa-check"></i><b>10.6.3</b> Saddam Hussein</a></li>
<li class="chapter" data-level="10.6.4" data-path="persons-vizualisation.html"><a href="persons-vizualisation.html#combined-plots-2"><i class="fa fa-check"></i><b>10.6.4</b> Combined Plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html"><i class="fa fa-check"></i><b>11</b> Organisations Vizualisations</a>
<ul>
<li class="chapter" data-level="11.1" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#standardize-names-of-organisations"><i class="fa fa-check"></i><b>11.1</b> Standardize names of organisations</a></li>
<li class="chapter" data-level="11.2" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#standardize-to-hits-pr.-article-and-grouping-by-month-1"><i class="fa fa-check"></i><b>11.2</b> Standardize to hits pr. article and grouping by month</a></li>
<li class="chapter" data-level="11.3" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#color-palettes-1"><i class="fa fa-check"></i><b>11.3</b> Color Palettes</a></li>
<li class="chapter" data-level="11.4" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#summary-plot-4"><i class="fa fa-check"></i><b>11.4</b> Summary plot</a></li>
<li class="chapter" data-level="11.5" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#nato"><i class="fa fa-check"></i><b>11.5</b> NATO</a></li>
<li class="chapter" data-level="11.6" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#taliban"><i class="fa fa-check"></i><b>11.6</b> Taliban</a></li>
<li class="chapter" data-level="11.7" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#al-qaeda"><i class="fa fa-check"></i><b>11.7</b> Al Qaeda</a></li>
<li class="chapter" data-level="11.8" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#hamas"><i class="fa fa-check"></i><b>11.8</b> Hamas</a></li>
<li class="chapter" data-level="11.9" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#hezbollah"><i class="fa fa-check"></i><b>11.9</b> Hezbollah</a></li>
<li class="chapter" data-level="11.10" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#combined-plots-for-all-key-organisations"><i class="fa fa-check"></i><b>11.10</b> Combined Plots for all Key Organisations</a>
<ul>
<li class="chapter" data-level="11.10.1" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#new-york-times-5"><i class="fa fa-check"></i><b>11.10.1</b> New York Times</a></li>
<li class="chapter" data-level="11.10.2" data-path="organisations-vizualisations.html"><a href="organisations-vizualisations.html#the-guardian-5"><i class="fa fa-check"></i><b>11.10.2</b> The Guardian</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="nouns-verbs-and-adjectives-vizualisation.html"><a href="nouns-verbs-and-adjectives-vizualisation.html"><i class="fa fa-check"></i><b>12</b> Nouns, Verbs and Adjectives Vizualisation</a>
<ul>
<li class="chapter" data-level="12.1" data-path="nouns-verbs-and-adjectives-vizualisation.html"><a href="nouns-verbs-and-adjectives-vizualisation.html#color-palettes-2"><i class="fa fa-check"></i><b>12.1</b> Color Palettes</a></li>
<li class="chapter" data-level="12.2" data-path="nouns-verbs-and-adjectives-vizualisation.html"><a href="nouns-verbs-and-adjectives-vizualisation.html#top-5-nouns"><i class="fa fa-check"></i><b>12.2</b> Top 5 Nouns</a></li>
<li class="chapter" data-level="12.3" data-path="nouns-verbs-and-adjectives-vizualisation.html"><a href="nouns-verbs-and-adjectives-vizualisation.html#top-5-verbs"><i class="fa fa-check"></i><b>12.3</b> Top 5 Verbs</a></li>
<li class="chapter" data-level="12.4" data-path="nouns-verbs-and-adjectives-vizualisation.html"><a href="nouns-verbs-and-adjectives-vizualisation.html#top-5-adjectives"><i class="fa fa-check"></i><b>12.4</b> Top 5 Adjectives</a></li>
</ul></li>
<li class="part"><span><b>V Sentiment Analysis</b></span></li>
<li class="chapter" data-level="" data-path="overview-2.html"><a href="overview-2.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="13" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html"><i class="fa fa-check"></i><b>13</b> Sentiment Analysis</a></li>
<li class="chapter" data-level="14" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html"><i class="fa fa-check"></i><b>14</b> Sentiment Vizualisations</a>
<ul>
<li class="chapter" data-level="14.1" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html#data-wrangling"><i class="fa fa-check"></i><b>14.1</b> Data wrangling</a></li>
<li class="chapter" data-level="14.2" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html#color-palettes-3"><i class="fa fa-check"></i><b>14.2</b> Color Palettes</a></li>
<li class="chapter" data-level="14.3" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html#polarity"><i class="fa fa-check"></i><b>14.3</b> Polarity</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html#summary-stats"><i class="fa fa-check"></i><b>14.3.1</b> Summary stats</a></li>
<li class="chapter" data-level="14.3.2" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html#timeline"><i class="fa fa-check"></i><b>14.3.2</b> Timeline</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html#subjectivity"><i class="fa fa-check"></i><b>14.4</b> Subjectivity</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html#summary-stats-1"><i class="fa fa-check"></i><b>14.4.1</b> Summary stats</a></li>
<li class="chapter" data-level="14.4.2" data-path="sentiment-vizualisations.html"><a href="sentiment-vizualisations.html#timeline-1"><i class="fa fa-check"></i><b>14.4.2</b> Timeline</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VI LDA Topic Modelling</b></span></li>
<li class="chapter" data-level="" data-path="overview-3.html"><a href="overview-3.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li class="chapter" data-level="" data-path="overview-3.html"><a href="overview-3.html#what-is-an-lda-topic-model"><i class="fa fa-check"></i>What is an LDA topic model?</a></li>
<li class="chapter" data-level="" data-path="overview-3.html"><a href="overview-3.html#example"><i class="fa fa-check"></i>Example</a></li>
<li class="chapter" data-level="" data-path="overview-3.html"><a href="overview-3.html#the-goal-of-lda-topic-model"><i class="fa fa-check"></i>The goal of LDA topic model</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html"><i class="fa fa-check"></i><b>15</b> LDA Topic Modelling</a>
<ul>
<li class="chapter" data-level="15.1" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#packages-and-data"><i class="fa fa-check"></i><b>15.1</b> Packages and Data</a></li>
<li class="chapter" data-level="15.2" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#preprocessing"><i class="fa fa-check"></i><b>15.2</b> Preprocessing</a></li>
<li class="chapter" data-level="15.3" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#bigrams-and-trigrams"><i class="fa fa-check"></i><b>15.3</b> Bigrams and Trigrams</a></li>
<li class="chapter" data-level="15.4" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#tf-idf-removal"><i class="fa fa-check"></i><b>15.4</b> TF-IDF Removal</a></li>
<li class="chapter" data-level="15.5" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#base-topic-model"><i class="fa fa-check"></i><b>15.5</b> Base topic model</a></li>
<li class="chapter" data-level="15.6" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#selecting-the-number-of-topics-based-on-coherence-score"><i class="fa fa-check"></i><b>15.6</b> Selecting the number of topics based on coherence score</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#selecting-number-of-topics-for-new-york-times"><i class="fa fa-check"></i><b>15.6.1</b> Selecting number of topics for New York Times</a></li>
<li class="chapter" data-level="15.6.2" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#selecting-number-of-topics-for-the-guardian"><i class="fa fa-check"></i><b>15.6.2</b> Selecting number of topics for The Guardian</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#building-the-topic-models"><i class="fa fa-check"></i><b>15.7</b> Building the topic models</a>
<ul>
<li class="chapter" data-level="15.7.1" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#new-york-times-topic-model"><i class="fa fa-check"></i><b>15.7.1</b> New York Times topic model</a></li>
<li class="chapter" data-level="15.7.2" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#the-guardian-topic-model"><i class="fa fa-check"></i><b>15.7.2</b> The Guardian topic model</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#assigning-one-topic-to-each-article"><i class="fa fa-check"></i><b>15.8</b> Assigning one topic to each article</a>
<ul>
<li class="chapter" data-level="15.8.1" data-path="lda-topic-modelling.html"><a href="lda-topic-modelling.html#evaluating-the-assignment-of-one-article"><i class="fa fa-check"></i><b>15.8.1</b> Evaluating the assignment of one article</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="topic-model-interpretation-and-vizualisation.html"><a href="topic-model-interpretation-and-vizualisation.html"><i class="fa fa-check"></i><b>16</b> Topic Model Interpretation and Vizualisation</a>
<ul>
<li class="chapter" data-level="16.1" data-path="topic-model-interpretation-and-vizualisation.html"><a href="topic-model-interpretation-and-vizualisation.html#plotting-topic-prevalence"><i class="fa fa-check"></i><b>16.1</b> Plotting topic prevalence</a></li>
<li class="chapter" data-level="16.2" data-path="topic-model-interpretation-and-vizualisation.html"><a href="topic-model-interpretation-and-vizualisation.html#plotting-topic-prevalence-over-time"><i class="fa fa-check"></i><b>16.2</b> Plotting topic prevalence over time</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="topic-model-interpretation-and-vizualisation.html"><a href="topic-model-interpretation-and-vizualisation.html#data-wrangling-1"><i class="fa fa-check"></i><b>16.2.1</b> Data Wrangling</a></li>
<li class="chapter" data-level="16.2.2" data-path="topic-model-interpretation-and-vizualisation.html"><a href="topic-model-interpretation-and-vizualisation.html#plots"><i class="fa fa-check"></i><b>16.2.2</b> Plots</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="topic-model-interpretation-and-vizualisation.html"><a href="topic-model-interpretation-and-vizualisation.html#does-topics-differ-in-polarity-and-subjectivity"><i class="fa fa-check"></i><b>16.3</b> Does topics differ in polarity and subjectivity?</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="topic-model-interpretation-and-vizualisation.html"><a href="topic-model-interpretation-and-vizualisation.html#polarity-1"><i class="fa fa-check"></i><b>16.3.1</b> Polarity</a></li>
<li class="chapter" data-level="16.3.2" data-path="topic-model-interpretation-and-vizualisation.html"><a href="topic-model-interpretation-and-vizualisation.html#subjectivity-1"><i class="fa fa-check"></i><b>16.3.2</b> Subjectivity</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VII Miscellaneous</b></span></li>
<li class="chapter" data-level="17" data-path="miscellaneous-plots.html"><a href="miscellaneous-plots.html"><i class="fa fa-check"></i><b>17</b> Miscellaneous Plots</a></li>
<li class="chapter" data-level="18" data-path="gender-dataset-for-further-analysis.html"><a href="gender-dataset-for-further-analysis.html"><i class="fa fa-check"></i><b>18</b> Gender Dataset for further analysis</a>
<ul>
<li class="chapter" data-level="18.1" data-path="gender-dataset-for-further-analysis.html"><a href="gender-dataset-for-further-analysis.html#dataset-with-authors"><i class="fa fa-check"></i><b>18.1</b> Dataset with authors</a></li>
<li class="chapter" data-level="18.2" data-path="gender-dataset-for-further-analysis.html"><a href="gender-dataset-for-further-analysis.html#comparing-the-datasets"><i class="fa fa-check"></i><b>18.2</b> Comparing the datasets</a></li>
<li class="chapter" data-level="18.3" data-path="gender-dataset-for-further-analysis.html"><a href="gender-dataset-for-further-analysis.html#adding-gender-information-to-nyt_aut"><i class="fa fa-check"></i><b>18.3</b> Adding gender information to <code>NYT_aut</code></a></li>
</ul></li>
<li class="part"><span><b>VIII References</b></span></li>
<li class="chapter" data-level="19" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>19</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">See Github Repo</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Taliban Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="sentiment-vizualisations" class="section level1" number="14">
<h1><span class="header-section-number">Chapter 14</span> Sentiment Vizualisations</h1>
<p>In this Chapter I will make visualizations on the differences between newspapers on the scores of <code>polarity</code> and <code>subjectivity</code>.</p>
<p>The code in this chapter is mainly for making plots. The commenting will be sparse as it would be too tedious to comment everything.</p>
<p>First thing first, we start by loading the package <code>tidyverse</code> <span class="citation">(<a href="#ref-tidyverse2019" role="doc-biblioref">Wickham et al. 2019</a>)</span>, <code>patchwork</code> <span class="citation">(<a href="#ref-R-patchwork" role="doc-biblioref">Pedersen 2020</a>)</span> and <code>wesanderson</code> <span class="citation">(<a href="#ref-R-wesanderson" role="doc-biblioref">Ram and Wickham 2018</a>)</span>.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="sentiment-vizualisations.html#cb209-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, patchwork, wesanderson)</span></code></pre></div>
<p>Then we load the data</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="sentiment-vizualisations.html#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="co">#NYT</span></span>
<span id="cb210-2"><a href="sentiment-vizualisations.html#cb210-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/new_york_times/NYT_clean_1.csv&quot;</span>)</span>
<span id="cb210-3"><a href="sentiment-vizualisations.html#cb210-3" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/new_york_times/NYT_clean_2.csv&quot;</span>)</span>
<span id="cb210-4"><a href="sentiment-vizualisations.html#cb210-4" aria-hidden="true" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/new_york_times/NYT_clean_3.csv&quot;</span>)</span>
<span id="cb210-5"><a href="sentiment-vizualisations.html#cb210-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-6"><a href="sentiment-vizualisations.html#cb210-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df1, df2, df3)</span>
<span id="cb210-7"><a href="sentiment-vizualisations.html#cb210-7" aria-hidden="true" tabindex="-1"></a>df_NYT <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(df)</span>
<span id="cb210-8"><a href="sentiment-vizualisations.html#cb210-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-9"><a href="sentiment-vizualisations.html#cb210-9" aria-hidden="true" tabindex="-1"></a><span class="co">#The Guardian</span></span>
<span id="cb210-10"><a href="sentiment-vizualisations.html#cb210-10" aria-hidden="true" tabindex="-1"></a>df_guardian <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/guardian/guardian_clean.csv&quot;</span>)</span></code></pre></div>
<div id="data-wrangling" class="section level2" number="14.1">
<h2><span class="header-section-number">14.1</span> Data wrangling</h2>
<p>Some wrangling is needed to make the plots. Here we add three new columns to each dataset: <code>newspaper</code> indicating which newspaper the article is from. We also add <code>month</code>. .</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="sentiment-vizualisations.html#cb211-1" aria-hidden="true" tabindex="-1"></a>df_NYT <span class="ot">&lt;-</span> df_NYT <span class="sc">%&gt;%</span> </span>
<span id="cb211-2"><a href="sentiment-vizualisations.html#cb211-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">newspaper =</span> <span class="st">&quot;New York Times&quot;</span>,</span>
<span id="cb211-3"><a href="sentiment-vizualisations.html#cb211-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">month =</span> lubridate<span class="sc">::</span><span class="fu">floor_date</span>(date, <span class="st">&quot;month&quot;</span>),</span>
<span id="cb211-4"><a href="sentiment-vizualisations.html#cb211-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">month =</span> <span class="fu">as.Date</span>(month))</span>
<span id="cb211-5"><a href="sentiment-vizualisations.html#cb211-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-6"><a href="sentiment-vizualisations.html#cb211-6" aria-hidden="true" tabindex="-1"></a>df_guardian <span class="ot">&lt;-</span> df_guardian <span class="sc">%&gt;%</span> </span>
<span id="cb211-7"><a href="sentiment-vizualisations.html#cb211-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">newspaper =</span> <span class="st">&quot;The Guardian&quot;</span>,</span>
<span id="cb211-8"><a href="sentiment-vizualisations.html#cb211-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">month =</span> lubridate<span class="sc">::</span><span class="fu">floor_date</span>(date, <span class="st">&quot;month&quot;</span>),</span>
<span id="cb211-9"><a href="sentiment-vizualisations.html#cb211-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">month =</span> <span class="fu">as.Date</span>(month))</span></code></pre></div>
<p>Then we add two new columns <code>polarity_month</code> and <code>subjectivity_month</code> which is the mean polarity and subjectivety of the given month. This is done by grouping articles by month, taking the mean of polarity and binding this column to the original dataset.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="sentiment-vizualisations.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="co">#grouping and summarizing</span></span>
<span id="cb212-2"><a href="sentiment-vizualisations.html#cb212-2" aria-hidden="true" tabindex="-1"></a>df_NYT_month <span class="ot">&lt;-</span> df_NYT <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span> </span>
<span id="cb212-3"><a href="sentiment-vizualisations.html#cb212-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">polarity_month =</span> <span class="fu">mean</span>(polarity),</span>
<span id="cb212-4"><a href="sentiment-vizualisations.html#cb212-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">subjectivity_month =</span> <span class="fu">mean</span>(subjectivity))</span>
<span id="cb212-5"><a href="sentiment-vizualisations.html#cb212-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-6"><a href="sentiment-vizualisations.html#cb212-6" aria-hidden="true" tabindex="-1"></a>df_guardian_month <span class="ot">&lt;-</span> df_NYT <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span> </span>
<span id="cb212-7"><a href="sentiment-vizualisations.html#cb212-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">polarity_month =</span> <span class="fu">mean</span>(polarity),</span>
<span id="cb212-8"><a href="sentiment-vizualisations.html#cb212-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">subjectivity_month =</span> <span class="fu">mean</span>(subjectivity))</span>
<span id="cb212-9"><a href="sentiment-vizualisations.html#cb212-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-10"><a href="sentiment-vizualisations.html#cb212-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-11"><a href="sentiment-vizualisations.html#cb212-11" aria-hidden="true" tabindex="-1"></a><span class="co">#binding</span></span>
<span id="cb212-12"><a href="sentiment-vizualisations.html#cb212-12" aria-hidden="true" tabindex="-1"></a>df_NYT <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_NYT, df_NYT_month)</span></code></pre></div>
<pre><code>## Joining, by = &quot;month&quot;</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="sentiment-vizualisations.html#cb214-1" aria-hidden="true" tabindex="-1"></a>df_guardian <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df_guardian, df_guardian_month)</span></code></pre></div>
<pre><code>## Joining, by = &quot;month&quot;</code></pre>
<p>Then we make a dataset with both <code>df_NYT</code> and <code>df_guardian</code> so we can plot both newspapers in the same plot.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="sentiment-vizualisations.html#cb216-1" aria-hidden="true" tabindex="-1"></a>df_both <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_NYT, df_guardian)</span>
<span id="cb216-2"><a href="sentiment-vizualisations.html#cb216-2" aria-hidden="true" tabindex="-1"></a>df_both <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(df_both)</span></code></pre></div>
<p>Basta.</p>
</div>
<div id="color-palettes-3" class="section level2" number="14.2">
<h2><span class="header-section-number">14.2</span> Color Palettes</h2>
<p>Here I quickly define some color palettes with colors that i like. These palettes will be used for different plots. The same colors will be used consistently throughout the notebook.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="sentiment-vizualisations.html#cb217-1" aria-hidden="true" tabindex="-1"></a>color_palette_newspaper <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">wes_palette</span>(<span class="st">&quot;Chevalier1&quot;</span>)[<span class="dv">1</span>], <span class="fu">wes_palette</span>(<span class="st">&quot;Darjeeling2&quot;</span>)[<span class="dv">2</span>])</span></code></pre></div>
</div>
<div id="polarity" class="section level2" number="14.3">
<h2><span class="header-section-number">14.3</span> Polarity</h2>
<p>Polarity is a float within the range [-1.0, 1.0] where -1.0 is negative and 1.0 is positive.</p>
<div id="summary-stats" class="section level3" number="14.3.1">
<h3><span class="header-section-number">14.3.1</span> Summary stats</h3>
<p>We start by doing some quick summary stats to see if the polarity differ between newspapers.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="sentiment-vizualisations.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df_NYT<span class="sc">$</span>polarity)</span></code></pre></div>
<pre><code>## [1] 0.02037221</code></pre>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="sentiment-vizualisations.html#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df_guardian<span class="sc">$</span>polarity)</span></code></pre></div>
<pre><code>## [1] 0.04714502</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="sentiment-vizualisations.html#cb222-1" aria-hidden="true" tabindex="-1"></a>df_both <span class="sc">%&gt;%</span> </span>
<span id="cb222-2"><a href="sentiment-vizualisations.html#cb222-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb222-3"><a href="sentiment-vizualisations.html#cb222-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>polarity, <span class="at">fill =</span> newspaper) <span class="sc">+</span> </span>
<span id="cb222-4"><a href="sentiment-vizualisations.html#cb222-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb222-5"><a href="sentiment-vizualisations.html#cb222-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(df_NYT<span class="sc">$</span>polarity), <span class="at">color =</span> color_palette_newspaper[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb222-6"><a href="sentiment-vizualisations.html#cb222-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(df_guardian<span class="sc">$</span>polarity), <span class="at">color =</span> color_palette_newspaper[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb222-7"><a href="sentiment-vizualisations.html#cb222-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb222-8"><a href="sentiment-vizualisations.html#cb222-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette_newspaper, <span class="at">name =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span> </span>
<span id="cb222-9"><a href="sentiment-vizualisations.html#cb222-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Polarity&quot;</span>, <span class="at">y=</span><span class="st">&quot;Density&quot;</span>, <span class="at">title=</span><span class="st">&quot;Distributions of Polarity&quot;</span>) <span class="sc">+</span> </span>
<span id="cb222-10"><a href="sentiment-vizualisations.html#cb222-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/denspolarity-1.png" width="672" /></p>
<p><strong>The mean polarity of the articles in New York Times is 0.0204.</strong>
<strong>The mean polarity of the articles in The Guardian is 0.0471.</strong>
Both Newspapers have a positive Polarity.</p>
<p>The values of polarity are quite small so the difference is small. Nonetheless mean polarity of the articles in The Guardian is actually twice as large as the mean polarity in New York Times. However, taking a look at <a href="#fig:denspolarity"><strong>??</strong></a> there is hadly a difference between the two distributions. We could make some bayesian statistics, but this is beyond the scope of this project.</p>
</div>
<div id="timeline" class="section level3" number="14.3.2">
<h3><span class="header-section-number">14.3.2</span> Timeline</h3>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="sentiment-vizualisations.html#cb223-1" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> df_both <span class="sc">%&gt;%</span> </span>
<span id="cb223-2"><a href="sentiment-vizualisations.html#cb223-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb223-3"><a href="sentiment-vizualisations.html#cb223-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>month, <span class="at">color =</span> newspaper) <span class="sc">+</span></span>
<span id="cb223-4"><a href="sentiment-vizualisations.html#cb223-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;gam&quot;</span>, <span class="fu">aes</span>(<span class="at">y=</span>polarity_month), <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span> </span>
<span id="cb223-5"><a href="sentiment-vizualisations.html#cb223-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>polarity_month), <span class="at">size =</span> <span class="fl">0.3</span>) <span class="sc">+</span> </span>
<span id="cb223-6"><a href="sentiment-vizualisations.html#cb223-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">limits =</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">&quot;1996-01-01&quot;</span>, <span class="st">&quot;2021-11-01&quot;</span>)), <span class="at">breaks =</span> <span class="st">&quot;3 years&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%Y&quot;</span>) <span class="sc">+</span> </span>
<span id="cb223-7"><a href="sentiment-vizualisations.html#cb223-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>newspaper, <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb223-8"><a href="sentiment-vizualisations.html#cb223-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Date&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Polarity&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Timeline of Polarity&quot;</span>) <span class="sc">+</span></span>
<span id="cb223-9"><a href="sentiment-vizualisations.html#cb223-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb223-10"><a href="sentiment-vizualisations.html#cb223-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> color_palette_newspaper, <span class="at">name =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb223-11"><a href="sentiment-vizualisations.html#cb223-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)</span>
<span id="cb223-12"><a href="sentiment-vizualisations.html#cb223-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb223-13"><a href="sentiment-vizualisations.html#cb223-13" aria-hidden="true" tabindex="-1"></a>q  </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-138-1.png" width="672" /></p>
</div>
</div>
<div id="subjectivity" class="section level2" number="14.4">
<h2><span class="header-section-number">14.4</span> Subjectivity</h2>
<p>Subjectivity is a float within the range [0.0, 1.0] where 0.0 is very objective and 1.0 is very subjective.</p>
<div id="summary-stats-1" class="section level3" number="14.4.1">
<h3><span class="header-section-number">14.4.1</span> Summary stats</h3>
<p>We start by doing some quick summary stats to see if the subjectivity differ between newspapers.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="sentiment-vizualisations.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df_NYT<span class="sc">$</span>subjectivity)</span></code></pre></div>
<pre><code>## [1] 0.383274</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="sentiment-vizualisations.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df_guardian<span class="sc">$</span>subjectivity)</span></code></pre></div>
<pre><code>## [1] 0.3924738</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="sentiment-vizualisations.html#cb228-1" aria-hidden="true" tabindex="-1"></a>df_both <span class="sc">%&gt;%</span> </span>
<span id="cb228-2"><a href="sentiment-vizualisations.html#cb228-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb228-3"><a href="sentiment-vizualisations.html#cb228-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>subjectivity, <span class="at">fill =</span> newspaper) <span class="sc">+</span> </span>
<span id="cb228-4"><a href="sentiment-vizualisations.html#cb228-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb228-5"><a href="sentiment-vizualisations.html#cb228-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(df_NYT<span class="sc">$</span>subjectivity), <span class="at">color =</span> color_palette_newspaper[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb228-6"><a href="sentiment-vizualisations.html#cb228-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(df_guardian<span class="sc">$</span>subjectivity), <span class="at">color =</span> color_palette_newspaper[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb228-7"><a href="sentiment-vizualisations.html#cb228-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb228-8"><a href="sentiment-vizualisations.html#cb228-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> color_palette_newspaper, <span class="at">name =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span> </span>
<span id="cb228-9"><a href="sentiment-vizualisations.html#cb228-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Subjectivity&quot;</span>, <span class="at">y=</span><span class="st">&quot;Density&quot;</span>, <span class="at">title=</span><span class="st">&quot;Distributions of Subjectivity&quot;</span>) <span class="sc">+</span></span>
<span id="cb228-10"><a href="sentiment-vizualisations.html#cb228-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/denssubjectivity-1.png" width="672" />
<strong>The mean subjectivity of the articles in New York Times is 0.383.</strong>
<strong>The mean subjectivity of the articles in The Guardian is 0.392.</strong>
Both Newspapers have a medium subjectivity, meaning that they in between objective and non-objective.</p>
<p>There is no real difference between the mean values of subjectivity for the two newspapers. Taking a look at <a href="#fig:denssubjectivity"><strong>??</strong></a> there is hardly a difference between the two distributions. We could make some bayesian statistics, but this is beyond the scope of this project.</p>
</div>
<div id="timeline-1" class="section level3" number="14.4.2">
<h3><span class="header-section-number">14.4.2</span> Timeline</h3>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="sentiment-vizualisations.html#cb229-1" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> df_both <span class="sc">%&gt;%</span> </span>
<span id="cb229-2"><a href="sentiment-vizualisations.html#cb229-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb229-3"><a href="sentiment-vizualisations.html#cb229-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x=</span>month, <span class="at">color =</span> newspaper) <span class="sc">+</span></span>
<span id="cb229-4"><a href="sentiment-vizualisations.html#cb229-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;gam&quot;</span>, <span class="fu">aes</span>(<span class="at">y=</span>subjectivity_month), <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span> </span>
<span id="cb229-5"><a href="sentiment-vizualisations.html#cb229-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>subjectivity_month), <span class="at">size =</span> <span class="fl">0.3</span>) <span class="sc">+</span> </span>
<span id="cb229-6"><a href="sentiment-vizualisations.html#cb229-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">limits =</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">&quot;1996-01-01&quot;</span>, <span class="st">&quot;2021-11-01&quot;</span>)), <span class="at">breaks =</span> <span class="st">&quot;3 years&quot;</span>, <span class="at">date_labels =</span> <span class="st">&quot;%Y&quot;</span>) <span class="sc">+</span>  </span>
<span id="cb229-7"><a href="sentiment-vizualisations.html#cb229-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>newspaper, <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb229-8"><a href="sentiment-vizualisations.html#cb229-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Date&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Subjectivity&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Timeline of Subjectivity&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-9"><a href="sentiment-vizualisations.html#cb229-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb229-10"><a href="sentiment-vizualisations.html#cb229-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> color_palette_newspaper, <span class="at">name =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-11"><a href="sentiment-vizualisations.html#cb229-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>)</span>
<span id="cb229-12"><a href="sentiment-vizualisations.html#cb229-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb229-13"><a href="sentiment-vizualisations.html#cb229-13" aria-hidden="true" tabindex="-1"></a>q  </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-140-1.png" width="672" /></p>

</div>
</div>
</div>



<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-patchwork" class="csl-entry">
Pedersen, Thomas Lin. 2020. <em>Patchwork: The Composer of Plots</em>. <a href="https://CRAN.R-project.org/package=patchwork">https://CRAN.R-project.org/package=patchwork</a>.
</div>
<div id="ref-R-wesanderson" class="csl-entry">
Ram, Karthik, and Hadley Wickham. 2018. <em>Wesanderson: A Wes Anderson Palette Generator</em>. <a href="https://github.com/karthik/wesanderson">https://github.com/karthik/wesanderson</a>.
</div>
<div id="ref-tidyverse2019" class="csl-entry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sentiment-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="overview-3.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/16_sentimentviz.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
